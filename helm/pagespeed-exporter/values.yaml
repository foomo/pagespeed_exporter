replicaCount: 1

image:
  repository: foomo/pagespeed_exporter
  pullPolicy: IfNotPresent
  tag: "latest"

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

serviceAccount:
  create: true
  annotations: {}
  name: ""

podAnnotations: {}
# Additional pod annotations can be added here

# Prometheus scrape annotations configuration
# Note: Standard Prometheus only honors scrape, port, path, and scheme annotations.
prometheus:
  # Enable Prometheus scraping annotations
  scrape: true
  # Metrics path
  path: "/metrics"

podSecurityContext:
  runAsNonRoot: true
  runAsUser: 1000
  fsGroup: 1000

securityContext:
  allowPrivilegeEscalation: false
  readOnlyRootFilesystem: true
  runAsNonRoot: true
  runAsUser: 1000
  capabilities:
    drop:
      - ALL

service:
  type: ClusterIP
  port: 9271
  targetPort: 9271  # This is the metrics port used throughout
  annotations: {}
  # Additional service annotations can be added here

resources: {}

nodeSelector: {}

tolerations: []

affinity: {}

# Name of the secret containing the API key
# The secret must have a key named PAGESPEED_API_KEY
secretName: pagespeed-configuration-secret

# Simple configuration (will be converted to args)
config:
  # List of targets to monitor
  targets: []
  # Example:
  # targets:
  #   - https://www.example.com
  #   - https://www.google.com

  # Enable parallel execution
  parallel: false

  # Categories to check (leave empty for default: all categories)
  categories: []
  # Example:
  # categories:
  #   - performance
  #   - seo
  #   - accessibility

  # Cache TTL for API results (e.g., "60s", "5m", "1h")
  # Set to null or empty string to disable caching
  cacheTTL: "60m"

# Advanced: Raw command line arguments (overrides config above)
# All available arguments from https://github.com/foomo/pagespeed_exporter
args: []
# Examples (uncomment and modify as needed):
# args:
#   # Comma separated list of targets to measure
#   - "-targets=https://www.example.com,https://www.google.com"
#
#   # OR use multi-value target array (-t flag)
#   # - "-t=https://www.example.com"
#   # - "-t=https://www.google.com"
#   # - "-t=https://www.github.com"
#
#   # Google API key (alternatively can be set via environment variable)
#   # - "-api-key=your-api-key-here"
#
#   # Categories to check (default: accessibility,best-practices,performance,pwa,seo)
#   # - "-categories=performance,seo,accessibility"
#
#   # Listener address (default: :9271)
#   # - "-listener=:9271"
#
#   # Enable parallel execution (default: false)
#   # - "-parallel=true"
#
#   # Push Gateway configuration
#   # - "-pushGatewayUrl=http://prometheus-pushgateway:9091"
#   # - "-pushGatewayJob=pagespeed_exporter"

# Additional environment variables
extraEnvVars: []
